<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <header class="page-header text-white bg-dark">
      <h1 class="text-center">Weather Dashboard</h1>
    </header>

    

    <content class="container">
      <div class="search-wrapper">
        <h4 class="prompt">Search For a City:</h4>
        <div class="input-group mb-3">
          <input type="search" class="form-control1" id="search-field" aria-label="Recipient's username" aria-describedby="button-addon2">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="addon">Search</button>
        </div>
        </div>
        <div class="search-history">
          <div class="row row-cols-1">
          </div>
        </div>
      </div>
    
      <div class="content-wrapper">
        <div class="card1">
          <h5 class="card-header"></h5>
          <div class="card-body">
            
          </div>
        </div>
        <h3 class="forecast-header">5-Day Forecast:</h3>
      </div>
    </content>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script type="text/javascript">
    
      $(document).ready(function() {
        $("#addon").on("click", function(event) {
          var userInput = $("#search-field").val()
          console.log(userInput)
          searchWeather(userInput)
          })
      })

 

    function searchWeather(city) {
      
      var queryURL = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&units=Imperial&appid=c637f35cbbd54d5df03028c0eebbdc31";
      
      $.ajax({
        url: queryURL,
        method: "GET"
      }).then(function(response) {
        var tRow = $('<tr>');
        var hRow = $('<tr>');
        var wRow = $('<tr>');
        var uRow = $('<tr>');
          
        var date = moment().format('L'); 
        $('.card-header').text(response.name + " " + date)

        var temperature = $("<td>").text("Temperature:" + " " + response.main.temp + " " + "F");
        var humidity = $("<td>").text("Humidity:" + " " + response.main.humidity + "%");
        var windSpeed = $("<td>").text("Wind Speed:" + " " + response.wind.speed + " " + "MPH");
        var uvIndex = $("<td>").text("UV Index:" + " " + response.clouds.all);
          
        tRow.append(temperature)
        hRow.append(humidity)
        wRow.append(windSpeed)
        uRow.append(uvIndex)

        $('.card-body').append(tRow)
        $('.card-body').append(hRow)
        $('.card-body').append(wRow)
        $('.card-body').append(uRow)

  
      });
    
    };
    
 
    

   



    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</body>
</html>